# 我的页面实现说明

## 📱 页面概览

"我的"页面是用户个人中心，展示用户信息、统计数据和功能菜单。

## 🎨 页面结构

### 1. 顶部用户卡片
- **背景**：红色渐变 (#F44336 → #E53935)
- **内容**：
  - 头像（圆形，👤）
  - 用户昵称（显示微信昵称或"微信用户"）
  - 用户ID
  - VIP徽章（如果是VIP会员）

### 2. 统计卡片
- **订单数**：用户累计订单数量
- **已完成**：已完成的订单数量
- **消费金额**：累计消费金额

### 3. 功能菜单（6项）

#### 3.1 实名认证 🔐
- **描述**：完成实名认证，享受更多服务
- **功能**：
  - 已认证：显示提示"您已完成实名认证"
  - 未认证：跳转到实名认证页面
- **页面路由**：`/pages/profile/verify`

#### 3.2 设置 ⚙️
- **描述**：账号设置、隐私安全
- **功能**：跳转到设置页面
- **页面路由**：`/pages/profile/settings`

#### 3.3 投诉/举报 ⚠️
- **描述**：对订单或服务进行投诉举报
- **功能**：跳转到投诉举报页面
- **页面路由**：`/pages/profile/complaint`

#### 3.4 开发票 🧾
- **描述**：管理发票抬头
- **功能**：跳转到发票管理页面
- **页面路由**：`/pages/profile/invoice`

#### 3.5 帮助中心 ❓
- **描述**：常见问题、使用帮助
- **功能**：跳转到帮助中心页面
- **页面路由**：`/pages/profile/help`

#### 3.6 在线客服 💬
- **描述**：7×24小时在线服务
- **徽章**：绿色"在线"标签
- **功能**：跳转到客服对话页面
- **页面路由**：`/pages/chat/service`

### 4. 退出登录按钮
- **样式**：白色背景 + 红色边框 + 红色文字
- **功能**：
  - 显示确认对话框
  - 清除本地存储（token、userInfo）
  - 跳转到登录页面

### 5. 底部导航栏
- 首页 🏠
- 订单 📋
- 悬浮按钮 ➕（创建订单）
- 消息 💬
- **我的 👤（当前页，高亮显示）**

## 📊 数据结构

### 用户信息
```typescript
{
  id: string,             // 用户ID
  nickname: string,       // 昵称
  avatar: string,         // 头像URL
  vip_level: number,      // VIP等级（0=非VIP）
  is_verified: boolean   // 是否已实名认证
}
```

### 统计数据
```typescript
{
  orders: number,        // 订单数
  completed: number,     // 已完成订单数
  amount: string        // 消费金额
}
```

### 菜单项
```typescript
{
  icon: string,          // 图标emoji
  title: string,         // 菜单标题
  action: string,        // 操作类型
  desc: string,          // 描述文字
  badge: string         // 徽章文字（如"在线"）
}
```

## 🔄 核心功能

### 1. 加载用户信息
```typescript
function loadUserInfo() {
  // 从本地存储获取用户信息
  const info = uni.getStorageSync('userInfo')
  if (info) {
    userInfo.value = info
  }
}
```

### 2. 加载统计数据
```typescript
function loadStats() {
  // TODO: 调用后端API
  // GET /api/user/stats
  // Response: { orders, completed, amount }
}
```

### 3. 菜单点击处理
```typescript
function handleMenuClick(item) {
  switch (item.action) {
    case 'verify':      // 实名认证
    case 'settings':    // 设置
    case 'complaint':   // 投诉/举报
    case 'invoice':     // 开发票
    case 'help':        // 帮助中心
    case 'service':     // 在线客服
  }
}
```

### 4. 实名认证处理
```typescript
function handleVerify() {
  // 检查是否已认证
  if (userInfo.is_verified) {
    // 显示已认证提示
  } else {
    // 跳转到认证页面
  }
}
```

### 5. 退出登录
```typescript
function handleLogout() {
  // 1. 显示确认对话框
  // 2. 清除本地存储
  uni.removeStorageSync('token')
  uni.removeStorageSync('userInfo')
  // 3. 跳转到登录页
  uni.reLaunch({ url: '/pages/index/index' })
}
```

## 🎯 交互逻辑

### 用户信息展示
1. 页面加载时从本地存储读取用户信息
2. 显示用户昵称、ID
3. 如果是VIP会员，显示金色VIP徽章

### 统计数据展示
1. 从后端API获取用户统计数据
2. 显示订单数、已完成数、消费金额
3. 三栏平均分布，分隔线分隔

### 功能菜单交互
1. **菜单样式**：
   - 橙色渐变图标背景
   - 主标题 + 副标题（描述）
   - 右侧箭头指示可点击
   - 部分菜单显示徽章（如"在线"）

2. **点击交互**：
   - 实名认证：检查认证状态，已认证显示提示，未认证跳转认证页
   - 其他菜单：直接跳转到对应页面

3. **徽章显示**：
   - 在线客服：显示绿色"在线"徽章
   - 其他菜单可根据需要添加徽章

### 退出登录交互
1. 点击"退出登录"按钮
2. 弹出确认对话框
3. 确认后清除本地数据
4. 使用 `reLaunch` 跳转到登录页（清空页面栈）

## 🎨 UI 特点

### 1. 顶部设计
- 红色渐变背景
- 用户信息卡片
- VIP徽章金色渐变
- 向下延伸的圆角设计

### 2. 统计卡片
- 白色卡片带阴影
- 三栏均分布局
- 竖线分隔
- 大字号数字 + 小字号标签

### 3. 菜单列表
- 白色卡片带阴影
- 圆角图标背景（橙色渐变）
- 双行文字（标题 + 描述）
- 右侧徽章 + 箭头

### 4. 退出按钮
- 白色背景
- 红色边框
- 红色文字
- 圆角设计

## 🔌 后端接口（待对接）

### 1. 获取用户统计
```
GET /api/user/stats
Response: {
  orders: number,        // 订单总数
  completed: number,     // 已完成订单数
  amount: string        // 消费金额
}
```

### 2. 获取用户信息
```
GET /api/user/info
Response: {
  id: string,
  nickname: string,
  avatar: string,
  vip_level: number,
  is_verified: boolean
}
```

## 📱 待实现页面

### 1. 实名认证页
- 路径：`/pages/profile/verify`
- 功能：身份证拍照、人脸识别

### 2. 设置页
- 路径：`/pages/profile/settings`
- 功能：账号设置、隐私设置、通知设置、关于

### 3. 投诉/举报页
- 路径：`/pages/profile/complaint`
- 功能：选择订单、填写投诉内容、上传证据

### 4. 发票管理页
- 路径：`/pages/profile/invoice`
- 功能：管理发票抬头、申请开票、查看开票记录

### 5. 帮助中心页
- 路径：`/pages/profile/help`
- 功能：常见问题、使用教程、联系方式

### 6. 客服对话页
- 路径：`/pages/chat/service`
- 功能：实时在线客服聊天

## ✅ 已完成功能

✓ 用户信息展示（头像、昵称、ID、VIP徽章）  
✓ 统计数据展示（订单数、已完成、消费金额）  
✓ 功能菜单展示（6项）  
✓ 实名认证状态检查  
✓ 菜单跳转逻辑  
✓ 退出登录功能  
✓ 底部导航栏  
✓ 本地存储读取  
✓ 响应式布局  
✓ 徽章显示（在线客服）

## 🎯 使用说明

### 查看个人信息
1. 从首页点击底部导航"我的"进入
2. 顶部显示用户信息和VIP状态
3. 统计卡片显示订单和消费数据

### 使用功能菜单
1. **实名认证**：
   - 未认证：跳转到认证页面完成认证
   - 已认证：显示提示信息

2. **设置**：跳转到设置页面修改账号信息

3. **投诉/举报**：对订单或服务进行投诉

4. **开发票**：管理发票抬头，申请开票

5. **帮助中心**：查看常见问题和使用帮助

6. **在线客服**：与客服实时沟通

### 退出登录
1. 点击"退出登录"按钮
2. 确认退出
3. 自动返回登录页面

## 💡 设计亮点

### 1. 视觉层次清晰
- 红色渐变顶部吸引注意力
- 白色卡片内容区域清晰分离
- 统计数据突出显示

### 2. 功能组织合理
- 核心功能（实名认证）放在首位
- 常用功能（设置、客服）突出显示
- 功能分组清晰

### 3. 交互友好
- 双行文字（标题+描述）信息完整
- 徽章提示（在线状态）直观
- 退出登录确认防止误操作

### 4. 状态反馈及时
- 实名认证状态检查
- VIP会员状态显示
- 在线客服状态提示

---

**注意**：
1. 当前统计数据使用模拟数据，实际使用需对接后端API
2. 功能菜单页面路由已配置，需创建对应页面文件
3. 用户信息从本地存储读取，确保登录后正确保存

