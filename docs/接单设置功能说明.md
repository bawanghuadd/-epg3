# æ¥å•è®¾ç½®åŠŸèƒ½è¯´æ˜

## ğŸ“‹ æ¦‚è¿°

æ¥å•è®¾ç½®é¡µé¢å…è®¸å·¥ç¨‹å¸ˆè‡ªå®šä¹‰æ¥å•åå¥½,åŒ…æ‹¬æ¥å•çŠ¶æ€ã€æœåŠ¡èŒƒå›´ã€æœåŠ¡ç±»å‹å’Œæ¨é€é€šçŸ¥çš„é…ç½®ã€‚

## ğŸ¯ åŠŸèƒ½ç‰¹æ€§

### 1. æ¥å•çŠ¶æ€

#### è‡ªåŠ¨æ¥å•
- **åŠŸèƒ½**: å¼€å¯å,ç¬¦åˆæ¡ä»¶çš„è®¢å•å°†è‡ªåŠ¨æ¥å•
- **é€‚ç”¨åœºæ™¯**: å·¥ç¨‹å¸ˆå¸Œæœ›å¿«é€ŸæŠ¢å•,èŠ‚çœæ—¶é—´
- **æ³¨æ„**: è‡ªåŠ¨æ¥å•å’Œæš‚åœæ¥å•äº’æ–¥,å¼€å¯ä¸€ä¸ªä¼šè‡ªåŠ¨å…³é—­å¦ä¸€ä¸ª

#### æš‚åœæ¥å•
- **åŠŸèƒ½**: æš‚æ—¶åœæ­¢æ¥æ”¶æ–°è®¢å•
- **é€‚ç”¨åœºæ™¯**: å·¥ç¨‹å¸ˆä¸´æ—¶æœ‰äº‹æˆ–è®¢å•å·²æ»¡
- **æ³¨æ„**: æš‚åœæ¥å•å,ç³»ç»Ÿä¸ä¼šæ¨é€æ–°è®¢å•

### 2. æ¥å•èŒƒå›´

#### æœåŠ¡åŠå¾„
- **èŒƒå›´**: 1km - 50km
- **é»˜è®¤å€¼**: 10km
- **åŠŸèƒ½**: è®¾ç½®å·¥ç¨‹å¸ˆæ„¿æ„æ¥å•çš„è·ç¦»èŒƒå›´
- **è¯´æ˜**: è¶…å‡ºæ­¤èŒƒå›´çš„è®¢å•ä¸ä¼šæ¨é€ç»™å·¥ç¨‹å¸ˆ

### 3. æœåŠ¡ç±»å‹

å·¥ç¨‹å¸ˆå¯ä»¥é€‰æ‹©æ¥å—çš„æœåŠ¡ç±»å‹:

#### å”®åç»´ä¿®
- **æè¿°**: è®¾å¤‡ç»´ä¿®ã€æ•…éšœæ’é™¤ç­‰å”®åæœåŠ¡
- **å¯¹åº”æ¥å£**: serviceType = 1

#### å”®å‰å®‰è£…
- **æè¿°**: æ–°è®¾å¤‡å®‰è£…ã€è°ƒè¯•ç­‰å”®å‰æœåŠ¡
- **å¯¹åº”æ¥å£**: serviceType = 2

#### é¡¹ç›®å¤–åŒ…
- **æè¿°**: é•¿æœŸé¡¹ç›®ã€å›¢é˜Ÿå¤–åŒ…ç­‰
- **å¯¹åº”æ¥å£**: serviceType = 3

### 4. æ¨é€é€šçŸ¥

#### æ–°è®¢å•æ¨é€
- **åŠŸèƒ½**: æœ‰æ–°è®¢å•æ—¶æ¨é€é€šçŸ¥
- **æ¨è**: å»ºè®®å¼€å¯,é¿å…é”™è¿‡è®¢å•

#### æ¶ˆæ¯æé†’
- **åŠŸèƒ½**: æ”¶åˆ°å®¢æˆ·æ¶ˆæ¯æ—¶æ¨é€é€šçŸ¥
- **æ¨è**: å»ºè®®å¼€å¯,åŠæ—¶å“åº”å®¢æˆ·

#### æ”¶ç›Šåˆ°è´¦æé†’
- **åŠŸèƒ½**: è®¢å•ç»“ç®—æ”¶ç›Šåˆ°è´¦æ—¶æ¨é€é€šçŸ¥
- **æ¨è**: å»ºè®®å¼€å¯,å®æ—¶äº†è§£æ”¶å…¥æƒ…å†µ

## ğŸ”Œ æ¥å£è¯´æ˜

### è·å–æ¥å•è®¾ç½®

**æ¥å£åœ°å€**: `GET /api/engineer/settings`

**å“åº”ç¤ºä¾‹**:
```json
{
  "code": 200,
  "msg": "success",
  "data": {
    "autoAccept": true,
    "pauseAccept": false,
    "serviceRadius": 10,
    "serviceTypes": {
      "aftersales": true,
      "presales": true,
      "outsourcing": false
    },
    "notifications": {
      "newOrder": true,
      "message": true,
      "income": true
    }
  }
}
```

### ä¿å­˜æ¥å•è®¾ç½®

**æ¥å£åœ°å€**: `PUT /api/engineer/settings`

**è¯·æ±‚ä½“**:
```json
{
  "autoAccept": true,
  "pauseAccept": false,
  "serviceRadius": 10,
  "serviceTypes": {
    "aftersales": true,
    "presales": true,
    "outsourcing": false
  },
  "notifications": {
    "newOrder": true,
    "message": true,
    "income": true
  }
}
```

**å“åº”ç¤ºä¾‹**:
```json
{
  "code": 200,
  "msg": "ä¿å­˜æˆåŠŸ",
  "data": {
    "updateTime": "2025-11-24 16:00:00"
  }
}
```

## ğŸ’» ä½¿ç”¨æ–¹æ³•

### 1. è¿›å…¥è®¾ç½®é¡µé¢

ä»å·¥ç¨‹å¸ˆæ¥å•å¤§å…é¡µé¢,ç‚¹å‡»é¡¶éƒ¨å³ä¾§çš„è®¾ç½®å›¾æ ‡è¿›å…¥è®¾ç½®é¡µé¢ã€‚

```javascript
// åœ¨ home.uvue ä¸­
function showSettings() {
  uni.navigateTo({
    url: '/pages/engineer/settings'
  })
}
```

### 2. ä¿®æ”¹è®¾ç½®

åœ¨è®¾ç½®é¡µé¢ä¸­,å¯ä»¥é€šè¿‡å¼€å…³ã€æ»‘å—ç­‰ç»„ä»¶ä¿®æ”¹å„é¡¹è®¾ç½®ã€‚

### 3. ä¿å­˜è®¾ç½®

ç‚¹å‡»é¡µé¢åº•éƒ¨çš„"ä¿å­˜è®¾ç½®"æŒ‰é’®ä¿å­˜ä¿®æ”¹ã€‚è®¾ç½®ä¼šä¿å­˜åˆ°æœåŠ¡å™¨å’Œæœ¬åœ°å­˜å‚¨ã€‚

### 4. è¿”å›

ä¿å­˜æˆåŠŸåä¼šè‡ªåŠ¨è¿”å›ä¸Šä¸€é¡µ,æˆ–ç‚¹å‡»å·¦ä¸Šè§’è¿”å›æŒ‰é’®(å¦‚æœ‰æœªä¿å­˜çš„ä¿®æ”¹ä¼šæç¤ºç¡®è®¤)ã€‚

## ğŸ“ æ•°æ®å­˜å‚¨

### æœ¬åœ°å­˜å‚¨

è®¾ç½®æ•°æ®ä¼šä¿å­˜åœ¨æœ¬åœ°å­˜å‚¨ä¸­,é”®åä¸º `engineerSettings`ã€‚

```javascript
// è·å–æœ¬åœ°è®¾ç½®
const settings = uni.getStorageSync('engineerSettings')

// ä¿å­˜æœ¬åœ°è®¾ç½®
uni.setStorageSync('engineerSettings', settings)
```

### æœåŠ¡å™¨å­˜å‚¨

è®¾ç½®æ•°æ®ä¼šé€šè¿‡ API ä¿å­˜åˆ°æœåŠ¡å™¨,ç¡®ä¿å¤šè®¾å¤‡åŒæ­¥ã€‚

## ğŸ¨ UI è®¾è®¡

### é¢œè‰²æ–¹æ¡ˆ

- **ä¸»è‰²**: #E53935 (çº¢è‰²)
- **æˆåŠŸè‰²**: #00C853 (ç»¿è‰²)
- **æç¤ºè‰²**: #2196F3 (è“è‰²)
- **ç¦ç”¨è‰²**: #9E9E9E (ç°è‰²)

### ç»„ä»¶ä½¿ç”¨

- **Switch å¼€å…³**: ç”¨äºå¸ƒå°”å€¼è®¾ç½®(è‡ªåŠ¨æ¥å•ã€æœåŠ¡ç±»å‹ã€é€šçŸ¥ç­‰)
- **Slider æ»‘å—**: ç”¨äºæ•°å€¼èŒƒå›´è®¾ç½®(æœåŠ¡åŠå¾„)
- **Button æŒ‰é’®**: ç”¨äºä¿å­˜æ“ä½œ

## ğŸ”” äº¤äº’é€»è¾‘

### 1. è‡ªåŠ¨æ¥å•ä¸æš‚åœæ¥å•äº’æ–¥

```javascript
// å¼€å¯è‡ªåŠ¨æ¥å•æ—¶,å…³é—­æš‚åœæ¥å•
function toggleAutoAccept(e) {
  settings.autoAccept = e.detail.value
  if (settings.autoAccept) {
    settings.pauseAccept = false
  }
}

// å¼€å¯æš‚åœæ¥å•æ—¶,å…³é—­è‡ªåŠ¨æ¥å•
function togglePauseAccept(e) {
  settings.pauseAccept = e.detail.value
  if (settings.pauseAccept) {
    settings.autoAccept = false
  }
}
```

### 2. ä¿®æ”¹è¿½è¸ª

ä½¿ç”¨ `hasChanges` æ ‡è®°æ˜¯å¦æœ‰æœªä¿å­˜çš„ä¿®æ”¹:

```javascript
const hasChanges = ref(false)

// ä»»ä½•è®¾ç½®ä¿®æ”¹æ—¶
hasChanges.value = true
```

### 3. é€€å‡ºç¡®è®¤

å¦‚æœæœ‰æœªä¿å­˜çš„ä¿®æ”¹,è¿”å›æ—¶ä¼šæç¤ºç¡®è®¤:

```javascript
function goBack() {
  if (hasChanges.value) {
    uni.showModal({
      title: 'æç¤º',
      content: 'æ‚¨æœ‰æœªä¿å­˜çš„ä¿®æ”¹,ç¡®å®šè¦ç¦»å¼€å—?',
      success: (res) => {
        if (res.confirm) {
          uni.navigateBack()
        }
      }
    })
  } else {
    uni.navigateBack()
  }
}
```

## ğŸš€ åŠŸèƒ½æ‰©å±•

### å¯èƒ½çš„æ‰©å±•åŠŸèƒ½

1. **æ™ºèƒ½æ¥å•**: æ ¹æ®å†å²æ•°æ®æ¨èæœ€ä¼˜æ¥å•è®¾ç½®
2. **æ—¶é—´æ®µè®¾ç½®**: è®¾ç½®ä¸åŒæ—¶é—´æ®µçš„æ¥å•çŠ¶æ€
3. **åŒºåŸŸåå¥½**: è®¾ç½®åå¥½çš„æœåŠ¡åŒºåŸŸ(è¡Œæ”¿åŒºåˆ’)
4. **ä»·æ ¼èŒƒå›´**: è®¾ç½®æ„¿æ„æ¥å—çš„è®¢å•ä»·æ ¼èŒƒå›´
5. **æŠ€èƒ½åŒ¹é…**: æ ¹æ®å·¥ç¨‹å¸ˆæŠ€èƒ½è‡ªåŠ¨åŒ¹é…åˆé€‚è®¢å•

## ğŸ“± é¡µé¢è·¯ç”±

```json
{
  "path": "pages/engineer/settings",
  "style": {
    "navigationBarTitleText": "æ¥å•è®¾ç½®",
    "navigationStyle": "custom",
    "enablePullDownRefresh": false
  }
}
```

## ğŸ”— ç›¸å…³æ–‡ä»¶

- **é¡µé¢æ–‡ä»¶**: `/pages/engineer/settings.uvue`
- **API æ–‡ä»¶**: `/api/engineer.js`
- **è·¯ç”±é…ç½®**: `/pages.json`
- **ä¸»é¡µæ–‡ä»¶**: `/pages/engineer/home.uvue`

## ğŸ“š å‚è€ƒæ–‡æ¡£

- [å·¥ç¨‹å¸ˆç«¯æ¥å£æ–‡æ¡£](./å·¥ç¨‹å¸ˆç«¯æ¥å•å¤§å…æ¥å£æ–‡æ¡£.md)
- [uni-app å®˜æ–¹æ–‡æ¡£](https://uniapp.dcloud.net.cn/)
- [Vue 3 å®˜æ–¹æ–‡æ¡£](https://cn.vuejs.org/)

